<body>
    <header>
      <h1>Player Stats</h1>
    </header>
  
    <main id="player-stats"></main>
    <div id="additional-stats"></div>
  
    
    
    <label for="year-input">Enter Year:</label>
      <input type="number" id="year-input" min="2003" max="2023" step="1"placeholder="Year">
      <button id="search-button">Search</button>
    
    <script src="script.js"></script>
    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const playerId = urlParams.get('id');
      const searchButton = document.getElementById('search-button');
  
      if (playerId) {
        getPlayerStats(playerId);
      }
  
      searchButton.addEventListener('click', function() {
        const yearInput = document.getElementById('year-input').value;
        if (yearInput) {
          getPlayerStats(playerId, yearInput);
        }
      });
  
      async function getPlayerStats(id, year) {
        const playerResponse = await fetch(`https://www.balldontlie.io/api/v1/players/${id}`);
        const playerData = await playerResponse.json();
  
        let statsUrl = `https://www.balldontlie.io/api/v1/stats?player_ids[]=${id}&per_page=2`;
        if (year) {
          statsUrl += `&seasons[]=${year}`;
        }
        const statsResponse = await fetch(statsUrl);
        const statsData = await statsResponse.json();
  
        displayPlayerStats(playerData, statsData);
      }
  
      function displayPlayerStats(player, stats) {
        const playerStats = document.getElementById('player-stats');
        const additionalStats = document.getElementById('additional-stats');
  
        playerStats.innerHTML = `
          <h2>${player.first_name} ${player.last_name}</h2>
          <p>Position: ${player.position}</p>
          <p>Height: ${player.height_feet}' ${player.height_inches}"</p>
          <p>Weight: ${player.weight_pounds} lbs</p>
          <p>Team: ${player.team.full_name}</p>
        `;
  
        additionalStats.innerHTML = `
          <h3>Additional Stats</h3>
          <ul>
            ${stats.data.map(stat => `
              <li>
                <strong>Date:</strong> ${stat.game.date}<br>
                <strong>Opponent:</strong> ${stat.team.full_name}<br>
                <strong>Points:</strong> ${stat.pts}<br>
                <strong>Assists:</strong> ${stat.ast}<br>
                <strong>Rebounds:</strong> ${stat.reb}<br>
                <strong>Blocks:</strong> ${stat.blk}<br>
                <strong>Steals:</strong> ${stat.stl}<br>
                <strong>Minutes:</strong> ${stat.min}<br>
              </li>
            `).join('')}
          </ul>
        `;
      }
    </script>
  </body>
  